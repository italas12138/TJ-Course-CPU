貌似有Bug

所以前后仿真用了两个稍微有差别的版本，仅供参考。